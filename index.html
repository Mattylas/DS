<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>De La Gouvernance</title>
<style>
body { font-family: Arial, sans-serif; background: #111; color: #eee; padding: 20px; overflow-x: hidden; transition: background 0.5s; }
h1, h2 { color: #f39c12; text-shadow: 1px 1px 6px #000; }
.question { margin: 20px 0; padding: 20px; background: #2c3e50; border-radius: 12px; box-shadow: 0 0 25px #000; position: relative; overflow: hidden; }
.options button { display: block; margin: 10px 0; padding: 12px 20px; width: 100%; border: none; border-radius: 6px; background: #3498db; color: #fff; font-weight: bold; cursor: pointer; transition: all 0.2s; }
.options button:hover { background: #2980b9; transform: scale(1.1) rotate(-1deg); }
#systemBar { height: 40px; width: 100%; background: #555; border-radius: 10px; margin-top: 20px; overflow: hidden; position: relative; box-shadow: 0 0 15px #000; }
#systemLevel { height: 100%; width: 50%; background: #27ae60; text-align: center; line-height: 40px; color: #fff; font-weight: bold; transition: all 0.5s ease; }
#finalBadge { font-size: 2em; margin-top: 30px; color: #e67e22; text-align: center; display: none; text-shadow: 2px 2px 8px #000; }
#narrative { font-size: 1em; margin-top: 20px; background: #34495e; padding: 20px; border-radius: 12px; display: none; box-shadow: 0 0 25px #000; white-space: pre-line; transition: all 0.5s; }
.floatingFeedback { position: absolute; padding: 12px 18px; border-radius: 6px; font-weight: bold; opacity: 0.95; animation: floatUp 2.5s ease forwards; pointer-events: none; z-index: 100; transform-origin: center; }
.floatingFeedback.good { background: #2ecc71; border-left: 5px solid #27ae60; color: #fff; }
.floatingFeedback.bad { background: #e74c3c; border-left: 5px solid #c0392b; color: #fff; }
@keyframes floatUp {
  0% { transform: translateY(0) scale(1) rotate(0deg); opacity: 0.95; }
  50% { transform: translateY(-50px) scale(1.05) rotate(3deg); opacity: 1; }
  100% { transform: translateY(-100px) scale(1) rotate(-2deg); opacity: 0; }
}
.shake { animation: shakeAnim 0.5s; }
@keyframes shakeAnim { 0% { transform: translateX(0px); } 25% { transform: translateX(-6px); } 50% { transform: translateX(6px); } 75% { transform: translateX(-6px); } 100% { transform: translateX(0px); } }
</style>
</head>
<body>

<h1>De La Gouvernance</h1>
<p>Vos d√©cisions influencent un syst√®me complexe et chaque choix d√©clenche des √©v√©nements.</p>

<div id="quiz"></div>
<div id="systemBar"><div id="systemLevel">50%</div></div>
<div id="finalBadge">üèÜ Cadre Syst√©mique : Approuv√© ‚úÖ</div>
<div id="narrative"></div>

<audio id="soundGood" src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg"></audio>
<audio id="soundBad" src="https://actions.google.com/sounds/v1/cartoon/boing.ogg"></audio>
<audio id="soundChaos" src="https://actions.google.com/sounds/v1/cartoon/concussive_hit_guitar_boing.ogg"></audio>

<script>
let systemLevel = 50;
let score = 0;
let narrativeLog = [];

// 12 questions pour plus de profondeur
const questions = [
  { q:"Une proc√©dure inutile est introduite. Que faites-vous ?", options:[
    {text:"Supprimer imm√©diatement", impact:-15, feedback:"‚ö° Brutal mais n√©cessaire ? Fragilise le syst√®me."},
    {text:"Laisser continuer", impact:+10, feedback:"‚úÖ Absurde mais stabilisant."},
    {text:"Publier un rapport", impact:-10, feedback:"‚ö†Ô∏è Transparence = exposition."},
    {text:"Modifier l√©g√®rement", impact:+5, feedback:"üëç Ajustement subtil."}
  ]},
  { q:"Un acteur conteste une d√©cision majeure.", options:[
    {text:"Punir l'acteur", impact:-20, feedback:"üí• Conflit direct, r√©sistance accrue."},
    {text:"Cartographier et ajuster", impact:+15, feedback:"‚úÖ Contestation convertie en outil."},
    {text:"Ignorer", impact:-5, feedback:"‚ö†Ô∏è Ignorance = zones d‚Äôincertitude."},
    {text:"Publier un d√©menti", impact:-10, feedback:"‚ö†Ô∏è D√©menti inutile, fragilise image."}
  ]},
  { q:"Une crise se profile sur un projet strat√©gique.", options:[
    {text:"Agir imm√©diatement", impact:-15, feedback:"‚ö†Ô∏è Urgence = chaos amplifi√©."},
    {text:"√âtaler le processus", impact:+20, feedback:"‚úÖ Le temps neutralise le conflit."},
    {text:"R√©unir pour vote", impact:-5, feedback:"‚ö†Ô∏è Trop de visibilit√©."},
    {text:"Exiger des rapports", impact:+5, feedback:"‚úÖ Rapports prolongent la temporalit√©."}
  ]},
  { q:"Un audit complet est demand√©.", options:[
    {text:"Tout montrer", impact:-20, feedback:"‚ö†Ô∏è Transparence totale fragilise."},
    {text:"Montrer uniquement les visibles", impact:+15, feedback:"‚úÖ Illusion de contr√¥le rassurante."},
    {text:"R√©sum√© g√©n√©ral", impact:+5, feedback:"‚úÖ Suffisant pour confiance."},
    {text:"Refuser poliment", impact:-10, feedback:"‚ö†Ô∏è Refus attire suspicion."}
  ]},
  { q:"Un conflit moral interne surgit.", options:[
    {text:"Laisser agir", impact:-10, feedback:"‚ö†Ô∏è Id√©alisme pur fragilise."},
    {text:"Aligner sur prudence et continuit√©", impact:+20, feedback:"‚úÖ Coh√©rence assur√©e."},
    {text:"Exiger d√©nonciation", impact:-15, feedback:"‚ö†Ô∏è Trop rapide, r√©sistance."},
    {text:"Ne rien faire", impact:-5, feedback:"‚ö†Ô∏è Inaction laisse zones instables."}
  ]},
  { q:"Une fuite m√©diatique √©clate.", options:[
    {text:"D√©sarmer avec humour", impact:+10, feedback:"‚úÖ Retour habile."},
    {text:"Ignorer compl√®tement", impact:-5, feedback:"‚ö†Ô∏è Silence = rumeurs."},
    {text:"R√©pression directe", impact:-20, feedback:"üí• Risque de mini-chaos."},
    {text:"D√©former l√©g√®rement", impact:+5, feedback:"‚úÖ Subtil ajustement narratif."}
  ]},
  { q:"Un alli√© montre des signes de trahison.", options:[
    {text:"√âliminer discr√®tement", impact:-25, feedback:"‚ö° Risque chaos majeur."},
    {text:"Surveiller et corriger", impact:+15, feedback:"‚úÖ Prudence = stabilit√©."},
    {text:"Publier avertissement", impact:-10, feedback:"‚ö†Ô∏è Exposition dangereuse."},
    {text:"Dialoguer longuement", impact:+5, feedback:"üëç Ajustement subtil."}
  ]},
  { q:"Une proposition de loi controvers√©e arrive.", options:[
    {text:"Bloquer imm√©diatement", impact:-15, feedback:"‚ö†Ô∏è Conflit politique."},
    {text:"Laisser passer", impact:+10, feedback:"‚úÖ Chaos converti en opportunit√©."},
    {text:"Modifier partiellement", impact:+5, feedback:"‚úÖ Ajustement prudent."},
    {text:"Reporter la d√©cision", impact:+15, feedback:"‚úÖ Temps = neutralisation."}
  ]},
  { q:"Un scandale interne est sur le point d‚Äô√©clater.", options:[
    {text:"Cacher √† tout prix", impact:-20, feedback:"‚ö†Ô∏è Risque √©norme."},
    {text:"Admettre partiellement", impact:+10, feedback:"‚úÖ Honneur relatif."},
    {text:"Exag√©rer pour distraire", impact:+5, feedback:"üëç Diversion r√©ussie."},
    {text:"Faire semblant de rien", impact:-5, feedback:"‚ö†Ô∏è Ignorance = instabilit√©."}
  ]},
  { q:"Une alerte cybern√©tique signale une faille.", options:[
    {text:"Ignorer", impact:-15, feedback:"‚ö†Ô∏è Faille = chaos futur."},
    {text:"Corriger imm√©diatement", impact:+15, feedback:"‚úÖ Stabilit√© renforc√©e."},
    {text:"Simuler correction", impact:+5, feedback:"‚úÖ Apparence de contr√¥le."},
    {text:"Alerter les m√©dias", impact:-10, feedback:"‚ö†Ô∏è Attention ind√©sirable."}
  ]},
  { q:"Un espion interne est soup√ßonn√©.", options:[
    {text:"Traquer sans piti√©", impact:-20, feedback:"üí• Chaos interne."},
    {text:"Observer discr√®tement", impact:+15, feedback:"‚úÖ Prudence = gain strat√©gique."},
    {text:"Publier accusation", impact:-10, feedback:"‚ö†Ô∏è Risque r√©putation."},
    {text:"Ignorer", impact:-5, feedback:"‚ö†Ô∏è Laisser la menace cro√Ætre."}
  ]},
  { q:"Une opportunit√© internationale se pr√©sente.", options:[
    {text:"Exploiter agressivement", impact:+20, feedback:"‚úÖ Gain maximal mais risqu√©."},
    {text:"Analyser longuement", impact:+10, feedback:"üëç Stabilit√© accrue."},
    {text:"Ignorer", impact:-10, feedback:"‚ö†Ô∏è Opportunit√© perdue."},
    {text:"Reporter d√©cision", impact:+5, feedback:"‚úÖ Risque minimis√©."}
  ]}
];

const events = [
  { msg:"Proc√©dure virale sur Slack‚Ä¶ stabilit√© +5", impact:+5 },
  { msg:"Tweet rebelle‚Ä¶ stabilit√© -10", impact:-10 },
  { msg:"Caf√© coup√©‚Ä¶ moral -5", impact:-5 },
  { msg:"R√©union inutile‚Ä¶ stabilit√© +10", impact:+10 },
  { msg:"E-mail mal adress√©‚Ä¶ stabilit√© -8", impact:-8 }
];

const miniChaosEvents = [
  { msg:"Mini-chaos : r√©union surprise‚Ä¶ stabilit√© -7", impact:-7 },
  { msg:"Proc√©dure invent√©e‚Ä¶ stabilit√© +8", impact:+8 }
];

const quizDiv=document.getElementById('quiz');
const systemLevelDiv=document.getElementById('systemLevel');
const finalBadge=document.getElementById('finalBadge');
const narrativeDiv=document.getElementById('narrative');
const soundGood=document.getElementById('soundGood');
const soundBad=document.getElementById('soundBad');
const soundChaos=document.getElementById('soundChaos');

function updateSystemBar(){
  systemLevel=Math.max(0,Math.min(100,systemLevel));
  systemLevelDiv.style.width=systemLevel+"%";
  systemLevelDiv.textContent=systemLevel+"%";
  if(systemLevel>=80) document.body.style.background="#0b3d0b";
  else if(systemLevel>=60) document.body.style.background="#1e3d1e";
  else if(systemLevel>=40) document.body.style.background="#3d1e1e";
  else document.body.style.background="#4d0b0b";
  if(systemLevel<40){systemLevelDiv.classList.add('shake'); soundChaos.play(); setTimeout(()=>systemLevelDiv.classList.remove('shake'),500);}
}

function floatingFeedback(msg,isGood){
  const div=document.createElement('div');
  div.className='floatingFeedback '+(isGood?'good':'bad');
  div.textContent=msg;
  document.body.appendChild(div);
  div.style.left=(Math.random()*70+15)+"%";
  div.style.transform=`rotate(${(Math.random()*10-5)}deg)`;
  if(isGood) soundGood.play(); else soundBad.play();
  setTimeout(()=>div.remove(),2500);
}

function triggerEvent(eventList){
  const event=eventList[Math.floor(Math.random()*eventList.length)];
  systemLevel+=event.impact;
  floatingFeedback(event.msg,event.impact>0);
  narrativeLog.push(event.msg);
  updateSystemBar();
}

questions.forEach((q,i)=>{
  const div=document.createElement('div');div.className='question';
  div.innerHTML=`<h2>Q${i+1}: ${q.q}</h2>`;
  const optsDiv=document.createElement('div');optsDiv.className='options';
  q.options.forEach(opt=>{
    const btn=document.createElement('button');
    btn.textContent=opt.text;
    btn.onclick=()=>{
      btn.disabled=true;
      optsDiv.querySelectorAll('button').forEach(b=>b.disabled=true);
      floatingFeedback(opt.feedback,opt.impact>0);
      systemLevel+=opt.impact;score++;updateSystemBar();
      if(Math.random()<0.7) triggerEvent(events);
      if(opt.branch==="miniChaos") triggerEvent(miniChaosEvents);
      if(i===questions.length-1){
        finalBadge.style.display="block";
        let narrativeText="üìñ R√©cit final :\n\n"+narrativeLog.map((e,idx)=>`${idx+1}. ${e}`).join("\n");
        let finale="";
        if(systemLevel>=80) finale="Hyperstable ‚úÖ : Syst√®me parfait, chaos converti en ordre.";
        else if(systemLevel>=60) finale="Stable üîπ : Frictions mineures, syst√®me sous contr√¥le.";
        else if(systemLevel>=40) finale="Instable ‚ö†Ô∏è : D√©cisions maladroites, mini-chaos en cha√Æne.";
        else finale="Chaotique üî• : Effondrement total, chaos absolu.";
        narrativeText+="\n\nSyst√®me final : "+finale;
        narrativeDiv.style.display="block";narrativeDiv.textContent=narrativeText;
      }
    };
    optsDiv.appendChild(btn);
  });
  div.appendChild(optsDiv);
  quizDiv.appendChild(div);
});

updateSystemBar();
</script>

</body>
</html>
